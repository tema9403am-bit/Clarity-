<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Clarity Chain ‚Äî Hot Wallet</title>

<style>
  :root{--bg:#000;--muted:#8f98a0;--accent:#00aaff}
  html,body{height:100%;margin:0;background:var(--bg);color:#fff;font-family:Inter,Arial}
  .wrap{min-height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:18px;text-align:center}
  h1{color:var(--accent);font-size:28px;margin:0 0 8px}
  p.sub{color:var(--muted);margin:6px 0 18px}
  .hidden{display:none}
  .btn{display:inline-block;padding:12px 20px;margin:8px;border-radius:10px;background:var(--accent);color:#000;font-weight:600;border:none;cursor:pointer}
  .btn.ghost{background:transparent;border:1px solid #333;color:var(--muted)}
  .menu .btn{display:block;width:86%;max-width:360px;margin:10px auto}
  input[type="text"], input[type="number"]{padding:10px;width:86%;max-width:360px;border-radius:8px;border:1px solid #333;background:#111;color:#fff;margin:8px 0}
  .small{font-size:13px;color:#bbb;margin-top:10px}
</style>
</head>
<body>
  <div class="wrap">
    <div id="startScreen">
      <h1>Clarity Chain</h1>
      <p class="sub">–ü–æ–≥—Ä—É–∑–∏—Å—å –≤ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π —ç–∫–æ–Ω–æ–º–∏–∫–∏</p>
      <button id="startBtn" class="btn">–ù–∞—á–∞—Ç—å</button>
    </div>

    <div id="mainMenu" class="hidden">
      <h1>–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</h1>
      <div class="menu">
        <button id="whereBtn" class="btn">–ì–¥–µ —è?</button>
        <button id="experimentBtn" class="btn">–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–µ</button>
        <button id="statsBtn" class="btn">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
      </div>
      <div class="small">–í–µ—Ä—Å–∏—è: pilot ‚Ä¢ –¢–æ–ª—å–∫–æ Hot Wallet</div>
    </div>

    <div id="experimentScreen" class="hidden">
      <h1>–£—á–∞—Å—Ç–≤—É–π –≤ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–µ</h1>
      <button id="connectHotWallet" class="btn">–ü–æ–¥–∫–ª—é—á–∏—Ç—å Hot Wallet</button>
      <div id="walletState" class="small" style="margin-top:10px"></div>
      <div style="margin-top:14px">
        <button id="backToMenu" class="btn ghost">–ù–∞–∑–∞–¥</button>
      </div>
    </div>

    <div id="whereScreen" class="hidden">
      <h1>–ì–¥–µ —è?</h1>
      <p class="sub">–¢—ã –≤ –ø–∏–ª–æ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏ Clarity Chain ‚Äî –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π –∫—Ä–∞—É–¥—Ñ–∞–Ω–¥–∏–Ω–≥–æ–≤–æ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ.</p>
      <button id="backFromWhere" class="btn ghost">–ù–∞–∑–∞–¥</button>
    </div>

    <div id="statsScreen" class="hidden">
      <h1>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h1>
      <p class="sub">–î–∞–Ω–Ω—ã–µ –ø–æ—è–≤—è—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.</p>
      <button id="backFromStats" class="btn ghost">–ù–∞–∑–∞–¥</button>
    </div>

    <div id="debug" class="small" style="margin-top:18px;color:#666"></div>
  </div>

<script>
(async function(){
  const startScreen = document.getElementById('startScreen');
  const mainMenu = document.getElementById('mainMenu');
  const experimentScreen = document.getElementById('experimentScreen');
  const whereScreen = document.getElementById('whereScreen');
  const statsScreen = document.getElementById('statsScreen');
  const walletState = document.getElementById('walletState');
  const debug = document.getElementById('debug');

  // –ù–∞–≤–∏–≥–∞—Ü–∏—è
  document.getElementById('startBtn').onclick = ()=>{ startScreen.classList.add('hidden'); mainMenu.classList.remove('hidden'); };
  document.getElementById('whereBtn').onclick = ()=>{ mainMenu.classList.add('hidden'); whereScreen.classList.remove('hidden'); };
  document.getElementById('backFromWhere').onclick = ()=>{ whereScreen.classList.add('hidden'); mainMenu.classList.remove('hidden'); };
  document.getElementById('statsBtn').onclick = ()=>{ mainMenu.classList.add('hidden'); statsScreen.classList.remove('hidden'); };
  document.getElementById('backFromStats').onclick = ()=>{ statsScreen.classList.add('hidden'); mainMenu.classList.remove('hidden'); };
  document.getElementById('experimentBtn').onclick = ()=>{ mainMenu.classList.add('hidden'); experimentScreen.classList.remove('hidden'); };
  document.getElementById('backToMenu').onclick = ()=>{ experimentScreen.classList.add('hidden'); mainMenu.classList.remove('hidden'); };

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, Telegram –ª–∏ —ç—Ç–æ
  const tg = window.Telegram?.WebApp;
  if (!tg) {
    walletState.innerHTML = "‚ö†Ô∏è –û—Ç–∫—Ä–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram Mini App!";
    debug.innerText = "–ù–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω Telegram WebApp API";
    return;
  }

  tg.ready();
  tg.expand();

  // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Hot Wallet
  document.getElementById('connectHotWallet').onclick = async () => {
    try {
      const user = tg.initDataUnsafe?.user;
      if (!user) {
        walletState.innerHTML = "üö´ –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ Telegram.";
        return;
      }

      // –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
      const response = await fetch("https://your-backend.com/api/connect-hotwallet", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ telegram_id: user.id, username: user.username })
      });

      const data = await response.json();
      if (data.success) {
        walletState.innerHTML = `‚úÖ Hot Wallet –ø–æ–¥–∫–ª—é—á—ë–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è <b>@${user.username || user.id}</b>`;
      } else {
        walletState.innerHTML = "–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ Hot Wallet.";
      }
    } catch (err) {
      console.error(err);
      walletState.innerHTML = "‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Hot Wallet.";
    }
  };

})();
</script>
</body>
</html>